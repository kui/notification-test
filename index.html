<p>デスクトップ通知デモンストレーション。</p>

<button id="test-noti">デスクトップ通知するよ</button>
<button id="delay-test-noti">5秒後にデスクトップ通知するよ</button>

<script>
var Delay = 5 * 1000; // msec

var notify = function() {
  console.log('通知します')

  Notification.requestPermission(function(status) {
    console.log('Status: %s', status);
    if (status !== 'granted') return;

    new Notification('通知テストですよ', {body: 'てすてす'});
    console.log('通知しました')
  });
};

document.querySelector('#test-noti')
  .addEventListener('click', notify);

document.querySelector('#delay-test-noti')
  .addEventListener('click', function() {
    setTimeout(notify, Delay);
    console.log('%d 秒後に通知します', Delay);
  });
</script>
